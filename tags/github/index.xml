<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>github - Tag - Peculiar Monster</title><link>https://peculiar.monster/tags/github/</link><description>github - Tag - Peculiar Monster</description><generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>hello@peculiar.monster (gigameow)</managingEditor><webMaster>hello@peculiar.monster (gigameow)</webMaster><copyright>copyright 2022</copyright><lastBuildDate>Mon, 30 May 2022 11:35:21 -0400</lastBuildDate><atom:link href="https://peculiar.monster/tags/github/" rel="self" type="application/rss+xml"/><item><title>Code, Why Are You Like This?</title><link>https://peculiar.monster/posts/code-why-are-you-like-this/</link><pubDate>Mon, 30 May 2022 11:35:21 -0400</pubDate><author>gigameow</author><guid>https://peculiar.monster/posts/code-why-are-you-like-this/</guid><description><![CDATA[<p>And of course, no sooner than I finished my previous post and decided to deploy the site than I ran into a bunch of problems, some bigger than others.</p>
<p>First, I had to set the DNS record to point at GitHub Pages. And that takes time to propogate and I am <em>impatient</em>.</p>
<p>The DNS wasn&rsquo;t propogating and GH was tellng me that I&rsquo;d configured something wrong, so it recommended that I set <code>A</code> records to point at the GitHub Pages IP addresses&hellip;except it didn&rsquo;t actually link to where I could <em>find</em> those IP addresses.</p>
<p>I finally found them buried in GH&rsquo;s documentation, but I&rsquo;ll be damned if I can find the page again, even with searching through my browser history.</p>
<p>I also set up the <code>CNAME</code> record at the same time.</p>
<p>Then I had to set up the GitHub workflow to actually deploy from my repo to the page&ndash;and unbeknownst to me, there was a <em>critical</em> piece of missing information from the workflow as written.</p>
<p>And that piece of information was setting <code>cname: peculiar.monster</code> in the deploy script.</p>
<p>Seriously. <code>CNAME</code> kept on disappearing from the <code>gh-pages</code> branch and I couldn&rsquo;t figure out why until I looked at <a href="https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-add-cname-file-cname" target="_blank" rel="noopener noreffer">this GH Action</a> which mentioned setting <code>CNAME</code>, while <a href="https://github.com/marketplace/actions/hugo-setup" target="_blank" rel="noopener noreffer">the Hugo-specific action</a>&ndash;the one I chose to use&ndash;did not mention it anywhere. No wonder it was being removed!</p>
<p>So, with that sorted, I turned my attention to why either the theme or Hugo wasn&rsquo;t respecting my <code>&lt;!--more--&gt;</code> tag. Turned out that <em>Hugo</em> was respecting it just fine and the theme absolutely was not&ndash;and of course, this isn&rsquo;t actually documented <em>in</em> the theme.</p>
<p>After digging through the CSS, I figured out where the problem was, it was in a bit of code from <code>themes/LoveIt/assets/css/_page/_home.scss</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="nc">.home</span><span class="o">[</span><span class="nt">data-home</span><span class="o">=</span><span class="nt">posts</span><span class="o">]</span> <span class="p">{</span>
  <span class="nc">.summary</span> <span class="p">{</span>
    <span class="nc">.content</span> <span class="p">{</span>
      <span class="k">@include</span><span class="nd"> box</span><span class="p">(</span><span class="ni">vertical</span><span class="p">);</span>
      <span class="na">-webkit-line-clamp</span><span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
      <span class="na">margin-top</span><span class="o">:</span> <span class="mf">.3</span><span class="kt">rem</span><span class="p">;</span>
      <span class="na">width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
      <span class="na">overflow</span><span class="o">:</span> <span class="ni">hidden</span><span class="p">;</span>
      <span class="na">text-overflow</span><span class="o">:</span> <span class="ni">ellipsis</span><span class="p">;</span>
      <span class="k">@include</span><span class="nd"> overflow-wrap</span><span class="p">(</span><span class="ni">break-word</span><span class="p">);</span>
      <span class="na">color</span><span class="o">:</span> <span class="nv">$global-font-secondary-color</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>I did delete the classes that weren&rsquo;t relevant to the problem at hand&ndash;the <code>home[data-home=posts]</code> class has a <em>lot</em> going on, more than is relevant to explain the current problem.</p>
<p>A bit of research, however, quickly helped me to figure out that <code>-webkit-line-clamp: 3;</code> was the culprit. It was restricting the summary display to three lines, it was a class I am not familiar with, and I wasn&rsquo;t sure what the options were.</p>
<p>Now, how to fix it?</p>
<p>I am not a methodical sort of person, alas&ndash;and looking at the code condensed like I did above actually helped me to get to a solution&ndash;but my normal way of doing things is to just throw lines of code at the problem and see if anything sticks. This is a terrible habit that I&rsquo;m trying to break&ndash;it was fine when coding was something I did occasionally and for fun, but it&rsquo;s not great when I&rsquo;m trying to write code at work.</p>
<p>And here&rsquo;s the answer, to the LoveIt theme disrespecting summary length and the <code>&lt;!--more--&gt;</code> tag, placed within <code>assets/css/_custom.scss</code>. ðŸ˜…</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="nc">.home</span><span class="o">[</span><span class="nt">data-home</span><span class="o">=</span><span class="nt">posts</span><span class="o">]</span> <span class="p">{</span>
  <span class="nc">.summary</span> <span class="p">{</span>
    <span class="nc">.content</span> <span class="p">{</span>
      <span class="na">-webkit-line-clamp</span><span class="o">:</span> <span class="ni">none</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Then there was the problem with the paragraphs not being properly separated and the spacing just being weird. That was easy to solve, just a few more lines:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="nc">.home</span><span class="o">[</span><span class="nt">data-home</span><span class="o">=</span><span class="nt">posts</span><span class="o">]</span> <span class="p">{</span>
  <span class="nc">.summary</span> <span class="p">{</span>
    <span class="nc">.content</span> <span class="nt">p</span> <span class="p">{</span>
      <span class="na">display</span><span class="o">:</span> <span class="ni">block</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>And there, everything is so much more to my liking. ðŸŽ‰</p>]]></description></item></channel></rss>